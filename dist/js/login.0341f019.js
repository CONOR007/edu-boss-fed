(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"9ed6":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login"},[t("el-form",{ref:"form",staticClass:"loginform",attrs:{"label-position":"top",model:e.form,"label-width":"80px",rules:e.rules}},[t("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[t("el-input",{model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),t("el-form-item",[t("el-button",{staticClass:"loginbtn",attrs:{type:"primary",loading:e.loading},on:{click:function(r){return e.onSubmit("form")}}},[e._v("登录")])],1)],1)],1)},s=[],n=(t("96cf"),t("1da1")),o=t("2b0e"),i=t("06a0"),l=o["default"].extend({name:"Login",data:function(){return{loading:!1,form:{phone:"",password:""},rules:{phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1\d{10}$/,message:"请输入正确的手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{min:6,max:18,message:"长度在6-18位",trigger:"blur"}]}}},methods:{onSubmit:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r.loading=!0,t.next=4,r.$refs[e].validate();case 4:return t.next=6,Object(i["e"])(r.form);case 6:if(a=t.sent,s=a.data,console.log(s),r.loading=!1,1===s.state){t.next=12;break}return t.abrupt("return",r.$message.error(s.message));case 12:r.$store.commit("setUser",s.content),r.$router.push(r.$route.query.redirect||"/"),r.$message.success(s.message),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),console.error("登录失败",t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))()}}}),u=l,c=(t("b09a"),t("2877")),m=Object(c["a"])(u,a,s,!1,null,"a28ae8d6",null);r["default"]=m.exports},"9f2a":function(e,r,t){},b09a:function(e,r,t){"use strict";t("9f2a")}}]);
//# sourceMappingURL=login.0341f019.js.map